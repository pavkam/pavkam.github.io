<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>.net &#8211; YAPB</title>
	<atom:link href="https://alex.ciobanu.org/?feed=rss2&#038;tag=net" rel="self" type="application/rss+xml" />
	<link>https://alex.ciobanu.org</link>
	<description>Yet Another Programming Blog</description>
	<lastBuildDate>Tue, 16 Apr 2019 14:18:42 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.2.2</generator>

<image>
	<url>https://alex.ciobanu.org/files/uploads/2018/05/7327309-150x150.jpg</url>
	<title>.net &#8211; YAPB</title>
	<link>https://alex.ciobanu.org</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Dipping my toes into the lands of F# and functional programming</title>
		<link>https://alex.ciobanu.org/?p=737</link>
				<pubDate>Thu, 18 Apr 2019 23:00:06 +0000</pubDate>
		<dc:creator><![CDATA[Alexandru Ciobanu]]></dc:creator>
				<category><![CDATA[Software Development]]></category>
		<category><![CDATA[.net]]></category>
		<category><![CDATA[f#]]></category>
		<category><![CDATA[functional]]></category>

		<guid isPermaLink="false">https://alex.ciobanu.org/?p=737</guid>
				<description><![CDATA[Mid-2018, after quite some time spent in C# and Azure lands I decided it was time for a change. The next job, I said to myself, is going to have at least one new tech element to it.... ]]></description>
								<content:encoded><![CDATA[<p>Mid-2018, after quite some time spent in C# and Azure lands I decided it was time for a change. The next job, I said to myself, is going to have at least one new tech element to it. So, early in 2019 I joined a new company called <a href="https://www.jet.com">Jet.com</a>.<em> [You can find some amazing blog posts written by my colleagues at the <a href="https://medium.com/jettech">Jet Tech Blog</a>.]</em></p>
<p>The things that attracted me at Jet were the <a href="https://stackshare.io/jet-com/jet-com">tech stack</a> and the scale. I finally got to use a functional language such asÂ <strong>F#</strong> in production. To be completely honest, before this position, functional languages always seemed like a niche to me. Besides, languages like C# have ingested a lot of functional features to make them better. <em>As you might expect, 3 months in, my views are starting to change</em>.</p>
<p>So what did I learn in the last months and what do I think about F#? That&#8217;s my list so far (guaranteed to be revised in another 3 months!):</p>
<ul>
<li>For a person grown on Pascal and C-like languages, F# syntax looks odd for the first &#8220;<em>many</em>&#8221; weeks. It takes time to adjust to the Python-like indentation-based blocks. The presence of the &#8220;<em>{ }</em>&#8221; brackets is confusing since they are used for quite a few things including &#8220;<em>async</em>&#8221; code.</li>
<li>F# is multi-paradigm language on top of .NET. That makes it support things such as classes, for loops and other &#8220;<em>not entirely function things</em>&#8220;. You can write imperative code in F#. It will look ugly as hell, but you can do it.</li>
<li>Type inference is crazy! Most of the time you can get away with using a type on anything. C# is seems like a half-baked potato compared to its sibling. The downside becomes apparent when trying to refactor code. One small change in a one function can lead to hundreds of compilation errors as the type inference starts deciding values and arguments have different types.</li>
<li>It&#8217;s all .NET stack so the hard learning curve that one would expect is non a thing (if you come from other .NET languages).</li>
<li>Works like a charm on .NET Core and docker containers on Linux. [<em>Hard to imagine what Microsoft looks like these days isn&#8217;t it?!</em>]</li>
<li>I have not written one loop yet and I used a recursive function only once. Most of the sequence processing is done using the standard modules and function such as <code>Seq.map</code>.</li>
<li>Currying, partial application and other &#8220;<em>functions creating functions</em>&#8221; concepts are not hard to get around if you used C#&#8217;s lambdas and delegates for a while.</li>
<li>For a person like me that used to write assembler it is hard to let go to the micro-optimizations. One can always write more optimized hand-crafted imperative code. It still takes discipline for me not to drop those immutable <code>Maps</code> or <code>lists</code> in favor of their mutable counterparts. On the other hand, having default immutability on objects makes things much nicer.</li>
</ul>
<p>These are just my first impressions and I do already sense there is some functionality that I wouldn&#8217;t be able t give up in the future!</p>
]]></content:encoded>
										</item>
		<item>
		<title>On how I &#8220;started embracing&#8221; dynamic languages</title>
		<link>https://alex.ciobanu.org/?p=709</link>
				<pubDate>Sun, 10 Jun 2018 21:00:29 +0000</pubDate>
		<dc:creator><![CDATA[Alexandru Ciobanu]]></dc:creator>
				<category><![CDATA[Software Development]]></category>
		<category><![CDATA[.net]]></category>
		<category><![CDATA[c#]]></category>
		<category><![CDATA[dynamic]]></category>
		<category><![CDATA[rant]]></category>
		<category><![CDATA[thoughts]]></category>

		<guid isPermaLink="false">http://alex.ciobanu.org/?p=709</guid>
				<description><![CDATA[I will start by saying that that I do not have anything new to add to the everlasting &#8220;dynamic vs static binding&#8221; debate: It&#8217;s been talked about to death at this point, and yeah, I am still well... ]]></description>
								<content:encoded><![CDATA[<p>I will start by saying that that I do not have anything new to add to the everlasting &#8220;<em>dynamic vs static binding</em>&#8221; debate: It&#8217;s been talked about to death at this point, and yeah, I am still well in the &#8220;<em>strongly typed languages</em>&#8221; camp and am not planning to leave anytime soon.</p>
<p><strong>But that is not the point of this post.</strong></p>
<p>It&#8217;s not a secret that I have been deeply entrenched into .NET for almost a decade now. But, only in the last couple of years I actually started enjoying all the new features to the .NET run-time and C# language language. <em>Anonymous objects</em>, <em>the dynamic language run-time</em>, value tuples, <em>async</em> and of course extensive <em>type inference</em> are just a few of them.</p>
<p>The biggest, shift for me personally, happened when I stopped caring/worrying about the &#8220;shape of data&#8221; I was using during the programming process. I know &#8212; sounds so vague that even I am not comfortable with this explanation What I mean is the fact that in a lot of cases, now, I do not have to care about the data type more than I need to. The compiler does take a lot of the grunt work out of the equation and leaves me to worry about the truly important things.</p>
<p>On the data and serialization side, I switched to <em>JSON</em> entirely. Popular libraries in .NET, combined with the <em>DLR</em> make object serialization a breeze. Instead of a ton of boilerplate types that never actually add any value, it&#8217;s a matter of using dynamic objects instead.</p>
<p><strong>A quite lazy example</strong>, but illustrates somewhat my point:</p>
<pre class="brush: csharp; title: ; notranslate">
...
dynamic request = JsonConvert.DeserializeObject(buffer);
...
var (result, details) = ProcessRequest(request);
...
</pre>
<p>At the end of the day, <strong>C# is definitely not a dynamic language</strong>, but it does borrow interesting concepts quite well and that gives people like me a pleasant and &#8220;<em>safe</em>&#8221; environment to work with.</p>
]]></content:encoded>
										</item>
		<item>
		<title>Introducing (very late!) XtraLiteTemplates for .NET (4.5+ and Core 2.0+)</title>
		<link>https://alex.ciobanu.org/?p=702</link>
				<comments>https://alex.ciobanu.org/?p=702#respond</comments>
				<pubDate>Mon, 04 Jun 2018 20:00:54 +0000</pubDate>
		<dc:creator><![CDATA[Alexandru Ciobanu]]></dc:creator>
				<category><![CDATA[Software Development]]></category>
		<category><![CDATA[.net]]></category>
		<category><![CDATA[bsd]]></category>
		<category><![CDATA[c#]]></category>
		<category><![CDATA[oss]]></category>
		<category><![CDATA[xtralitetemplates]]></category>

		<guid isPermaLink="false">http://alex.ciobanu.org/?p=702</guid>
				<description><![CDATA[Well, to begin, this is not a new project &#8211; I have developed most of it during the end of 2015 with occasional fixes and new features along the way (recently added support for DLR and dynamic objects).... ]]></description>
								<content:encoded><![CDATA[<p>Well, to begin, this is not a new project &#8211; I have developed most of it during the end of 2015 with occasional fixes and new features along the way (recently added support for <em>DLR and dynamic objects</em>). But, in the great tradition of the &#8220;<em>blogger</em>&#8221; I feel obligated to share my baby with the world.</p>
<p>The project was born from a specific need we had at the company I was employed at the time: simplify email templates. You see, the templates were being kept by the developers as they were written using a tortured Razor engine (<em>yes, the same used by ASP.NET</em>). The amount of change requests coming in was, well, high. It became clear, we needed a simple way to allow non-technical staff to maintain the templates themselves &#8212; <strong>I know, sounds obvious, right!?</strong></p>
<p>I have considered different existing libraries to achieve this, including the beloved by all &#8220;<a href="https://msdn.microsoft.com/en-us/library/system.string.replace(v=vs.110).aspx">String.Replace()</a>&#8221; method, but all options were either too simple to be useful or too complex to be used by non-techies. Nothing fit exactly into what we wanted. This prompted me to write the <a href="https://github.com/pavkam/XtraLiteTemplates">XtraLiteTemplates</a> library.</p>
<p>The core principles of the library are: <strong>must allow complex templates</strong> and <strong>must be usable by non-technical staff</strong>. Both are achieved by what I call &#8220;<em>domain-specific templates</em>&#8220;. The library allows a developer to define her own simple template language using existing constructs. Simply put you can define things like &#8220;<em>WHILE (expr) DO &#8230; END</em>&#8221; and &#8220;<em>DO (expr) IF (expr)</em>&#8220;. Or even something like &#8220;<em>PRICE OF (expr)</em>&#8220;. One can define any constructs that fit the business needs.</p>
<p>By default, the library comes with two &#8220;<em>dialects</em>&#8221; (the domain-specific languages): <a href="https://github.com/pavkam/XtraLiteTemplates/wiki/Standard-Dialect">Standard</a> and <a href="https://github.com/pavkam/XtraLiteTemplates/wiki/Code-Monkey-Dialect">Code Monkey</a>. Code Monkey dialect if a super-set of the Standard and simplified constructs, aimed at developers). The following example shows a small use of the library:</p>
<pre class="brush: csharp; title: ; notranslate">
private static async Task MainAsync(string[] args)
{
    var @object = new
    {
        Name = &quot;Alex&quot;,
        Friends = new[] { &quot;Mary&quot;, &quot;John&quot;, &quot;Peter&quot; }
    };

    const string template = @&quot;
        {PRE}{person.Name} has {person.Friends.Length} friends: {FOR friend IN person.Friends}{friend}{WITH}, {END}.
        He is{IF person.Friends.Length == 0} not{END} a happy guy!{END}&quot;;

    var test = await XLTemplate.EvaluateAsync(
        CodeMonkeyDialect.Default,
        template,
        CancellationToken.None, person =&gt; @object).ConfigureAwait(false);

    Console.WriteLine(test);
}
</pre>
<p>Note that by default the engine removes additional white-spaces. To prevent that I used the &#8220;<em>PRE</em>&#8221; directive.</p>
<p>There is enough documentation in the project&#8217;s <a href="https://github.com/pavkam/XtraLiteTemplates/wiki">wiki</a> so I am not going to repeat it here. Hope this project helps someone in need of a simple but powerful template library (<em>no, String.Replace is not an option!</em>).</p>
]]></content:encoded>
							<wfw:commentRss>https://alex.ciobanu.org/?feed=rss2&#038;p=702</wfw:commentRss>
		<slash:comments>0</slash:comments>
							</item>
		<item>
		<title>DeHL 0.8.2 is out</title>
		<link>https://alex.ciobanu.org/?p=336</link>
				<comments>https://alex.ciobanu.org/?p=336#respond</comments>
				<pubDate>Tue, 18 May 2010 15:03:51 +0000</pubDate>
		<dc:creator><![CDATA[Alexandru Ciobanu]]></dc:creator>
				<category><![CDATA[Software Development]]></category>
		<category><![CDATA[.net]]></category>
		<category><![CDATA[dehl]]></category>
		<category><![CDATA[delphi]]></category>
		<category><![CDATA[embarcadero]]></category>
		<category><![CDATA[LinkedIn]]></category>
		<category><![CDATA[oop]]></category>
		<category><![CDATA[rtl]]></category>
		<category><![CDATA[rtti]]></category>
		<category><![CDATA[unicode]]></category>

		<guid isPermaLink="false">http://alex.ciobanu.org/?p=336</guid>
				<description><![CDATA[I&#8217;ve just released the version 0.8.2 of DeHL. The downloads can be found on this page and changelog on this page. Again, this is a minor release with a few bugs fixed and a new feature: TString (as... ]]></description>
								<content:encoded><![CDATA[<p><a rel="attachment wp-att-242" href="http://alex.ciobanu.org/?attachment_id=242"><img class="alignleft size-full wp-image-242" title="DeHL" src="http://alex.ciobanu.org/files/uploads/2009/06/Logo_2.png" alt="DeHL" width="100" height="100" /></a></p>
<p>I&#8217;ve just released the version 0.8.2 of DeHL. The downloads can be found on <a href="http://code.google.com/p/delphilhlplib/downloads/list">this</a> page and changelog on <a href="http://code.google.com/p/delphilhlplib/source/browse/tags/0.8.2/changelog.txt">this</a> page.<br />
Again, this is a minor release with a few bugs fixed and a new feature: <strong>TString</strong> (as asked in <a href="http://alex.ciobanu.org/?p=331&amp;cpage=1#comment-1298">this comment</a>).<br />
As you might have guessed already, TString is a wrapper record modeled on .NET&#8217;s <a href="http://msdn.microsoft.com/en-us/library/system.string.aspx">System.String</a> class. Unfortunately I was unable to use most of the RTL&#8217;s string functionality so the &#8220;wrapper&#8221; grew quite a bit from my original expectations.</p>
<p>But &#8230; enough talk, here are some usage scenarios that someone may find useful:</p>
<pre class="brush: delphi; title: ; notranslate">
var
  LStr: TString;
begin
  { Overloaded operators and a special function &quot;U&quot; }
  LStr := U('Hello World for the ') + 10 + 'th time!';

  { Do some random operations }
  if (LStr.ToUpper().Contains('HELLO')) and
     (LStr.Contains('HeLLo', scLocaleIgnoreCase)) then
  WriteLn(LStr.ToString);

  { Now let's select all the distinct chars from the string }
  WriteLn(
    LStr.Concat(LStr.AsCollection.Distinct.Op.Cast&lt;string&gt;).ToString
  );
end.
</pre>
<p>TString overloads all sane operators: Equality, Inequality, Implicit conversions, Addition, Subtraction and offers functions to convert to and from UTF8 and UCS4 (via RTL of course). I also need to iron a few things about about Enex integration for the next minor release.</p>
<p>The other small improvement that I added relates to the collection package. All simple collections (not the Key/Value pair ones) implement a sort of <i>&#8220;where T is the_class, select it as such&#8221;</i> operation. Check out this example:</p>
<pre class="brush: delphi; title: ; notranslate">
var
  LList: TList&lt;TObject&gt;;
  LBuilder: TStringBuilder;
  LObject: TObject;
begin
  LList := TList&lt;TObject&gt;.Create;

  { Populate the list with some random objects }
  LList.Add(TInterfacedObject.Create);
  LList.Add(TStringBuilder.Create);
  LList.Add(TStringBuilder.Create);
  LList.Add(TObject.Create);

  { Now select the objects we're interested in (string builders) }
  for LBuilder in LList.Op.Select&lt;TStringBuilder&gt; do
    WriteLn(LBuilder.ClassName); // Do stuff

  { Or select everything (not actually required - an example) }
  for LObject in LList.Op.Select&lt;TObject&gt; do
    WriteLn(LObject.ClassName); // Do stuff
end.
</pre>
<p>If it&#8217;s still not clear what this operations does, let me explain. It basically consists of two operations: <i>Where</i> and <i>Select</i>. First, each <strong>object</strong> is checked to be of a given class and then this object is cast to that class so you can iterate directly using a <i>FOR .. IN</i> loop only over the objects you want to. Of course doing that for TObject makes no sense (as in example) &#8230; but well &#8230; that was an example.</p>
<p>Well, that&#8217;s all for today,<strong><br />
Have Fun!</strong></p>
]]></content:encoded>
							<wfw:commentRss>https://alex.ciobanu.org/?feed=rss2&#038;p=336</wfw:commentRss>
		<slash:comments>0</slash:comments>
							</item>
		<item>
		<title>Delphi Prism: DelphiString</title>
		<link>https://alex.ciobanu.org/?p=53</link>
				<comments>https://alex.ciobanu.org/?p=53#comments</comments>
				<pubDate>Thu, 22 Jan 2009 11:59:59 +0000</pubDate>
		<dc:creator><![CDATA[Alexandru Ciobanu]]></dc:creator>
				<category><![CDATA[Software Development]]></category>
		<category><![CDATA[.net]]></category>
		<category><![CDATA[delphi]]></category>
		<category><![CDATA[LinkedIn]]></category>
		<category><![CDATA[prism]]></category>
		<category><![CDATA[rtl]]></category>

		<guid isPermaLink="false">http://alex.ciobanu.org/?p=53</guid>
				<description><![CDATA[Was just reading the source code for ShineOn (the RTL implementation in Delphi Prism) and found an interesting piece: DelphiString (in /ShineOn.RTL/DelphiString.pas). What is it? It is a class that tries to replicate the behavior of the Win32... ]]></description>
								<content:encoded><![CDATA[<p>Was just reading the source code for<em> ShineOn</em> (the RTL implementation in Delphi Prism) and found an interesting piece: <strong>DelphiString</strong> (in /ShineOn.RTL/DelphiString.pas).</p>
<p>What is it? It is a class that tries to replicate the behavior of the Win32 Delphi&#8217;s String type.The difference between Delphi&#8217;s String and .NET string is that the first one is mutable (aka can be written to but not thread-safe) and the second is immutable (can&#8217;t be modified making it thread-safe but harder to use).</p>
<p>If you are porting an application over Win32 Delphi you can&#8217;t normally use .NET&#8217;s String class because most of your code surely makes operations on strings.</p>
<p>Back to DelphiString; you might be tempted to use it simply by replacing all instances of String with DelphiString in your code &#8212; WRONG! Because Win32 Delphi uses a technique called Copy-On-Write, code like this:</p>
<pre class="brush: delphi; title: ; notranslate">
S1 := 'John'
S2 := S1;
S2[1] := '_';
ASSERT((S1= 'John') and (S2 = '_ohn'));
</pre>
<p>&#8230; will work as expected (in Win32 Delphi) even if S2 is initially pointing to the same string as S1! In Delphi Prism, S2 will point to the same object as S2, but no &#8220;copy-on-write&#8221; will be performed and both strings will eventually be changed to &#8220;_ohn&#8221;. A simple &#8220;<em>replace all String with DelphiString</em>&#8221; will not be enough. I would kindly suggest that the application gets ported to use .NET String class rather than DelphiString.</p>
]]></content:encoded>
							<wfw:commentRss>https://alex.ciobanu.org/?feed=rss2&#038;p=53</wfw:commentRss>
		<slash:comments>3</slash:comments>
							</item>
		<item>
		<title>Overridden method should match case of ancestor</title>
		<link>https://alex.ciobanu.org/?p=37</link>
				<comments>https://alex.ciobanu.org/?p=37#comments</comments>
				<pubDate>Wed, 03 Dec 2008 12:26:55 +0000</pubDate>
		<dc:creator><![CDATA[Alexandru Ciobanu]]></dc:creator>
				<category><![CDATA[Software Development]]></category>
		<category><![CDATA[.net]]></category>
		<category><![CDATA[delphi]]></category>
		<category><![CDATA[LinkedIn]]></category>
		<category><![CDATA[oop]]></category>
		<category><![CDATA[rtl]]></category>

		<guid isPermaLink="false">http://alex.ciobanu.org/?p=37</guid>
				<description><![CDATA[I&#8217;ve been following CodeRage III these days and presenter mentioned that in Delphi 7 (and above), when overriding virtual methods, the same case should be used for both functions. Consider this example: In this case indeed the compiler... ]]></description>
								<content:encoded><![CDATA[<p>I&#8217;ve been following <a href="http://conferences.codegear.com/coderage08">CodeRage III</a> these days and presenter mentioned that in Delphi 7 (and above), when overriding virtual methods, the same case should be used for both functions.</p>
<p>Consider this example:</p>
<pre class="brush: delphi; title: ; notranslate">
type
  TClass1 = class
    procedure VirtualMethod; virtual; abstract;
  end;

  TClass2 = class(TClass1)
    procedure virtualmethod; override;
  end;

procedure TClass2.virtualmethod;
begin
end;
</pre>
<p>In this case indeed the compiler will issue this warning:</p>
<div><strong>[DCC Hint] Project2.dpr(14): H2365 Override method TClass2.virtualmethod should match case of ancestor TClass1.VirtualMethod</strong></div>
<p>Why is the case important? Delphi is case-insensitive. Considering that this change came from Delphi 7 we can assume it was related to &#8220;preparations for .NET&#8221;. Considering that .NET IL is case-sensitive (in case of identifiers) this warning makes sense if you&#8217;re trying to extend some .NET class. Now that Delphi.NET is dead, maybe the compiler team will clean up this mess a bit.</p>
]]></content:encoded>
							<wfw:commentRss>https://alex.ciobanu.org/?feed=rss2&#038;p=37</wfw:commentRss>
		<slash:comments>1</slash:comments>
							</item>
		<item>
		<title>New C#: Exactly my point!</title>
		<link>https://alex.ciobanu.org/?p=20</link>
				<comments>https://alex.ciobanu.org/?p=20#respond</comments>
				<pubDate>Sat, 08 Nov 2008 10:27:07 +0000</pubDate>
		<dc:creator><![CDATA[Alexandru Ciobanu]]></dc:creator>
				<category><![CDATA[Software Development]]></category>
		<category><![CDATA[.net]]></category>
		<category><![CDATA[c#]]></category>
		<category><![CDATA[delphi]]></category>
		<category><![CDATA[LinkedIn]]></category>

		<guid isPermaLink="false">http://alex.ciobanu.org/?p=20</guid>
				<description><![CDATA[I was debating some of the new flashy changes planned for new C# version with some of my colleagues &#8230; It seems no matter what Microsoft does it&#8217;s always considered as an in innovation in the field. Let&#8217;s... ]]></description>
								<content:encoded><![CDATA[<p>I was debating some of the new flashy changes planned for new C# version with some of my colleagues &#8230; It seems no matter what Microsoft does it&#8217;s always considered as an in innovation in the field. Let&#8217;s check out the new proposed feature <em>&#8220;dynamic&#8221;</em>: Dynamic would allow you C# program to inter-operate with external scripts and much more. It&#8217;s marketed as the new big thing for C# and would allow for much greater flexibility.</p>
<p>But wait! I think I&#8217;ve seen something like this before &#8230; way before 2008 &#8211; oh yeah it was mid-&#8217;90s when I&#8217;ve tried Delphi 5! The feature was called Variant. Delphi language included dynamic dispatching (in form of IDispatch) from the 3rd version. Since then It has evolved the feature to allow for much more complex use cases. And I think Delphi wasn&#8217;t even the first one to introduce such a concept directly into the language &#8211; it was VB (but I may be wrong on this one).</p>
<p><em></em></p>
<p>Oh, and now for the title of my post &#8211; <a title="Exactly my point!" href="http://blogs.codegear.com/abauer/2008/11/07/38879">Exactly my point!</a></p>
]]></content:encoded>
							<wfw:commentRss>https://alex.ciobanu.org/?feed=rss2&#038;p=20</wfw:commentRss>
		<slash:comments>0</slash:comments>
							</item>
		<item>
		<title>Instantiating Generic Types at runtime</title>
		<link>https://alex.ciobanu.org/?p=12</link>
				<comments>https://alex.ciobanu.org/?p=12#respond</comments>
				<pubDate>Mon, 21 Jul 2008 10:37:30 +0000</pubDate>
		<dc:creator><![CDATA[Alexandru Ciobanu]]></dc:creator>
				<category><![CDATA[Software Development]]></category>
		<category><![CDATA[.net]]></category>

		<guid isPermaLink="false">http://alex.ciobanu.org/?p=12</guid>
				<description><![CDATA[When working on my license project, I came across an uncommon case in C# where I would have to create an instance of a generic type (wich had multiple type parameters) dynamically. Basically I had an instance of... ]]></description>
								<content:encoded><![CDATA[<p>When working on my license project, I came across an uncommon case in C# where I would have to create an instance of a generic type (wich had multiple type parameters) dynamically.</p>
<p>Basically I had an instance of <em>Dispatcher&lt;A, B, C&gt;</em> that would be created with different type parameters A, B and C depending on the user&#8217;s selection. A and B were in my case classes of type <em>ILoadBalancer</em> and C a <em>IScriptAssembler</em>.</p>
<p>In order to avoid 3&#215;3 Ifs in the code (which is actually quite dumb) I had to:</p>
<ol>
<li>Extract an simple (not generic) interface <em>IDispatcher</em> from <em>Dispatcher&lt;A, B, C&gt;</em> class.</li>
<li>Instantiate the generic class at runtime:
<pre class="brush: csharp; title: ; notranslate">
Type dynamicDispatcher = typeof(Dispatcher&lt;,,&gt;).MakeGenericType(
    new Type[] {typeof(CSharpScriptAssembler), userLocalBalancer, 
        userRemoteBalancer }
);
</pre>
</li>
<li>Create a new instance of the newly generated non-generic type:
<pre class="brush: csharp; title: ; notranslate">
m_Dispatcher = (IDispatcher)Activator.CreateInstance(
    dynamicDispatcher,
    new Object[] { userQueueSize, userNumberOfThreads, mode }
);
</pre>
</li>
</ol>
<p>So, as you can see, we have to first create a non-generic type out of the generic one at runtime. And then use the Activator singleton to actually create a new instance of that type.</p>
<p>Points of interest:</p>
<ol>
<li><a href="http://msdn.microsoft.com/en-us/library/system.type.makegenerictype.aspx">Type.MakeGenericType()</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/system.activator.createinstance.aspx">Activator.CreateInstance()</a></li>
</ol>
]]></content:encoded>
							<wfw:commentRss>https://alex.ciobanu.org/?feed=rss2&#038;p=12</wfw:commentRss>
		<slash:comments>0</slash:comments>
							</item>
		<item>
		<title>Testing C# syntax</title>
		<link>https://alex.ciobanu.org/?p=7</link>
				<comments>https://alex.ciobanu.org/?p=7#respond</comments>
				<pubDate>Sun, 22 Jun 2008 15:13:32 +0000</pubDate>
		<dc:creator><![CDATA[Alexandru Ciobanu]]></dc:creator>
				<category><![CDATA[Software Development]]></category>
		<category><![CDATA[.net]]></category>
		<category><![CDATA[c#]]></category>

		<guid isPermaLink="false">http://alex.ciobanu.org/?p=7</guid>
				<description><![CDATA[]]></description>
								<content:encoded><![CDATA[<pre class="brush: csharp; title: ; notranslate">
public int TestMethodA(Int32 testInt)
{
return testInt + 1;
}
</pre>
]]></content:encoded>
							<wfw:commentRss>https://alex.ciobanu.org/?feed=rss2&#038;p=7</wfw:commentRss>
		<slash:comments>0</slash:comments>
							</item>
	</channel>
</rss>
